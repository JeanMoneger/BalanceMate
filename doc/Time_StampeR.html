<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Time_StampeR</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>
<style type="text/css">
.lightable-minimal {
border-collapse: separate;
border-spacing: 16px 1px;
width: 100%;
margin-bottom: 10px;
}
.lightable-minimal td {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal th {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal thead tr:last-child th {
border-bottom: 2px solid #00000050;
empty-cells: hide;
}
.lightable-minimal tbody tr:first-child td {
padding-top: 0.5em;
}
.lightable-minimal.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-minimal.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic {
border-top: 0.16em solid #111111;
border-bottom: 0.16em solid #111111;
width: 100%;
margin-bottom: 10px;
margin: 10px 5px;
}
.lightable-classic tfoot tr td {
border: 0;
}
.lightable-classic tfoot tr:first-child td {
border-top: 0.14em solid #111111;
}
.lightable-classic caption {
color: #222222;
}
.lightable-classic td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic thead tr:last-child th {
border-bottom: 0.10em solid #111111;
}
.lightable-classic.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic-2 {
border-top: 3px double #111111;
border-bottom: 3px double #111111;
width: 100%;
margin-bottom: 10px;
}
.lightable-classic-2 tfoot tr td {
border: 0;
}
.lightable-classic-2 tfoot tr:first-child td {
border-top: 3px double #111111;
}
.lightable-classic-2 caption {
color: #222222;
}
.lightable-classic-2 td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic-2 th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic-2 tbody tr:last-child td {
border-bottom: 3px double #111111;
}
.lightable-classic-2 thead tr:last-child th {
border-bottom: 1px solid #111111;
}
.lightable-classic-2.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic-2.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #EEE;
border-collapse: collapse;
margin-bottom: 10px;
}
.lightable-material tfoot tr td {
border: 0;
}
.lightable-material tfoot tr:first-child td {
border-top: 1px solid #EEE;
}
.lightable-material th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
}
.lightable-material td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
border-top: 1px solid #eeeeee;
}
.lightable-material.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody td {
border: 0;
}
.lightable-material.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #ddd;
}
.lightable-material-dark {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #FFFFFF12;
border-collapse: collapse;
margin-bottom: 10px;
background-color: #363640;
}
.lightable-material-dark tfoot tr td {
border: 0;
}
.lightable-material-dark tfoot tr:first-child td {
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF60;
}
.lightable-material-dark td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF;
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark.lightable-hover tbody tr:hover {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody tr:nth-child(even) {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody td {
border: 0;
}
.lightable-material-dark.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #FFFFFF12;
}
.lightable-paper {
width: 100%;
margin-bottom: 10px;
color: #444;
}
.lightable-paper tfoot tr td {
border: 0;
}
.lightable-paper tfoot tr:first-child td {
border-top: 1px solid #00000020;
}
.lightable-paper thead tr:last-child th {
color: #666;
vertical-align: bottom;
border-bottom: 1px solid #00000020;
line-height: 1.15em;
padding: 10px 5px;
}
.lightable-paper td {
vertical-align: middle;
border-bottom: 1px solid #00000010;
line-height: 1.15em;
padding: 7px 5px;
}
.lightable-paper.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-paper.lightable-striped tbody tr:nth-child(even) {
background-color: #00000008;
}
.lightable-paper.lightable-striped tbody td {
border: 0;
}
</style>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Time_StampeR</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(BalanceMate)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>Time_StampeR.R</p>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>Often times, several critical periods of interest are nested into one
session of measurement. For instance, researchers might have created a
protocol including a training phase, they might have used fixation
crosses before each trial nested in the session, there might be blanks
during the session, and their session might also include trials of
different types.</p>
<p>As such, researchers might be interested in annotating their data
files to highlight these different periods of interest. These
annotations will further facilitate data wrangling by enabling some easy
filtering of irrelevant data points (such as training, fixation crosses,
or blanks).</p>
<p>The <code>Time_stampeR</code> is a command that enables such
annotations. To use it, you have to understand the structure of your
data. If your sessions contain a large quantity of periods of interest,
using <code>Time_stampeR</code> might prove challenging, but never
impossible.</p>
<p>In some cases where researchers used randomisation of the stimuli
presentation, users will have to think outside the box by importing a
list of characters that will be used as the labels for each annotations.
However, this goes beyond our demonstration. Should you be in need of
help in this data wrangling process, you can try to contact the author
of the package.</p>
<p>Nevertheless, the <code>Time_stampeR</code> command can proves itself
very useful in simpler cases (short sessions, or few periods of
interest, or no randomisation).</p>
</div>
<div id="example-usage" class="section level2">
<h2>Example Usage</h2>
<p>To use the <code>Time_stampeR</code>, you will have to identify
manually each periods of interest in each of your sessions (things might
be more complicated if your sessions differ in length - fortunately,
these cases should be quite exceptionnal). So you should first try to
describe 1) the cuts where two periods of interest are separated, and 2)
the labels of the periods of interests.</p>
<p>Note that you should identify <em>x</em> periods of interest and
<em>x-1</em> cuts.</p>
<p>For instance, you conducted a study on 6 participants that passively
view pleasant and unpleasant pictures for 100s with a sample rate of
100Hz. Each session started with a 20 seconds training, and then there
were 4 trials of 20 seconds, each starting with a 5 seconds fixation
cross. You structure should look something like this:</p>
<table style="width:50%; width: auto !important; margin-left: auto; margin-right: auto;" class="table table-striped table-hover table-condensed table-responsive">
<thead>
<tr>
<th style="text-align:left;">
Periods of interest
</th>
<th style="text-align:left;">
Label
</th>
<th style="text-align:right;">
End Time (s)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Training (20s)
</td>
<td style="text-align:left;">
Training
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Fixation Cross (5s)
</td>
<td style="text-align:left;">
Fix
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:left;">
Unpleasant trial (15s)
</td>
<td style="text-align:left;">
Unpl_Trial
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Fixation Cross (5s)
</td>
<td style="text-align:left;">
Fix
</td>
<td style="text-align:right;">
45
</td>
</tr>
<tr>
<td style="text-align:left;">
Pleasant trial (15s)
</td>
<td style="text-align:left;">
Pleas_Trial
</td>
<td style="text-align:right;">
60
</td>
</tr>
<tr>
<td style="text-align:left;">
Fixation Cross (5s)
</td>
<td style="text-align:left;">
Fix
</td>
<td style="text-align:right;">
65
</td>
</tr>
<tr>
<td style="text-align:left;">
Unpleasant trial (15s)
</td>
<td style="text-align:left;">
Unpl_Trial
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Fixation Cross (5s)
</td>
<td style="text-align:left;">
Fix
</td>
<td style="text-align:right;">
85
</td>
</tr>
<tr>
<td style="text-align:left;">
Pleasant trial (15s)
</td>
<td style="text-align:left;">
Pleas_Trial
</td>
<td style="text-align:right;">
100
</td>
</tr>
</tbody>
</table>
<p>Time_StampeR.R Identified cuts are thus occuring a time 20, t = 25, t
= 40, t = 45, t = 60, t = 65, t = 80, and t = 85.</p>
<p>We now have to use the <code>Time_stampeR</code> functions indicating
where cuts should happen and how periods of interest should be
labelled:</p>
<p><em>Note: the files are stored as Rdata to reduce the size of the
package â€“ however the command only accepts txt files, hence it is
required to first convert Rdata to text files before running the
examples</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">#path_to_data &lt;- system.file(&quot;extdata&quot;, package = &quot;BalanceMate&quot;)</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">#Data &lt;- Merge_PosData(path_to_data, SampleRate = 100, SessionDuration = 100)</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co"># If required: convert Rdata to text files.</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/Users/sylviemoneger/Desktop/BalanceMate/data&quot;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>    <span class="st">&quot;Postural_DataA&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataA.Rdata&quot;</span>,</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>    <span class="st">&quot;Postural_DataB&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataB.Rdata&quot;</span>,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>    <span class="st">&quot;Postural_DataC&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataC.Rdata&quot;</span>,</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>    <span class="st">&quot;Postural_DataD&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataD.Rdata&quot;</span>,</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>    <span class="st">&quot;Postural_DataE&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataE.Rdata&quot;</span>,</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>    <span class="st">&quot;Postural_DataF&quot;</span> <span class="ot">=</span> <span class="st">&quot;~/Desktop/BalanceMate/data/Postural_DataF.Rdata&quot;</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>)</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co"># Loop through each file, add a blank row with spaces, and save as .txt</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="cf">for</span> (name <span class="cf">in</span> <span class="fu">names</span>(files)) {</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>    <span class="co"># Load the .Rdata file</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="fu">load</span>(files[[name]])</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>    </span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    <span class="co"># Dynamically get the object loaded (assuming it&#39;s named the same as the file)</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">get</span>(name)</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    </span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>    <span class="co"># Write to a .txt file with the same name</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>    <span class="fu">write.table</span>(data, <span class="at">file =</span> <span class="fu">paste0</span>(name, <span class="st">&quot;.txt&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">col.names =</span> <span class="cn">FALSE</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>}</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>path_to_data <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;data&quot;</span>, <span class="at">package =</span> <span class="st">&quot;BalanceMate&quot;</span>)</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="co"># Identify the time cuts in your protocol: </span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>cuts<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">20</span>, </span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>        <span class="dv">25</span>, </span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>        <span class="dv">40</span>, </span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>        <span class="dv">45</span>, </span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>        <span class="dv">60</span>, </span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>        <span class="dv">65</span>, </span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>        <span class="dv">80</span>, </span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>        <span class="dv">85</span>)</span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a><span class="co"># Label the periods:</span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>Labels <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Training&quot;</span>, </span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>              <span class="st">&quot;Fix&quot;</span>, </span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>              <span class="st">&quot;Unpleasant_t&quot;</span>, </span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a>              <span class="st">&quot;Fix&quot;</span>, </span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a>              <span class="st">&quot;Pleasant_t&quot;</span>, </span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a>              <span class="st">&quot;Fix&quot;</span>, </span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a>              <span class="st">&quot;Unpleasant_t&quot;</span>, </span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a>              <span class="st">&quot;Fix&quot;</span>, </span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a>              <span class="st">&quot;Pleasant_t&quot;</span>)</span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a>Annotated_Data <span class="ot">&lt;-</span> <span class="fu">Time_StampeR</span>(<span class="at">df =</span> Data, <span class="at">id_col =</span> <span class="st">&quot;file_name&quot;</span>, <span class="at">sample_rate =</span> <span class="dv">100</span>, <span class="at">protocol_duration =</span> <span class="dv">100</span>, <span class="at">cuts =</span> cuts, <span class="at">period_names =</span> Labels)</span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a><span class="fu">head</span>(Annotated_Data)</span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a><span class="co">#&gt;        Fx      Fy       Fz      Mx      My       Mz Time          file_name</span></span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a><span class="co">#&gt; 1 7.24049 7.22547 790.0556 5.47499 7.68121 -0.16553 0.00 Postural_DataA.txt</span></span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a><span class="co">#&gt; 2 7.46415 7.30759 789.6346 5.41001 7.61477 -0.14419 0.01 Postural_DataA.txt</span></span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a><span class="co">#&gt; 3 7.80475 7.35250 789.3054 5.34504 7.54834 -0.12477 0.02 Postural_DataA.txt</span></span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a><span class="co">#&gt; 4 7.60925 7.46016 789.3280 5.34504 7.54834 -0.16260 0.03 Postural_DataA.txt</span></span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a><span class="co">#&gt; 5 7.49666 6.98660 788.6198 5.34434 7.41616 -0.02562 0.04 Postural_DataA.txt</span></span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a><span class="co">#&gt; 6 7.42719 6.95055 788.2588 5.27937 7.34973 -0.07609 0.05 Postural_DataA.txt</span></span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a><span class="co">#&gt;        CoP_X     CoP_Y Period_Name</span></span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a><span class="co">#&gt; 1 -0.9722367 0.6929880    Training</span></span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a><span class="co">#&gt; 2 -0.9643410 0.6851283    Training</span></span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a><span class="co">#&gt; 3 -0.9563269 0.6771827    Training</span></span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a><span class="co">#&gt; 4 -0.9562995 0.6771634    Training</span></span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a><span class="co">#&gt; 5 -0.9403974 0.6776827    Training</span></span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a><span class="co">#&gt; 6 -0.9324006 0.6697508    Training</span></span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a></span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a><span class="fu">tail</span>(Annotated_Data)</span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a><span class="co">#&gt;            Fx      Fy       Fz        Mx      My      Mz  Time</span></span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a><span class="co">#&gt; 59995 5.65743 3.71183 581.9384 -18.16673 2.32261 0.33257 99.94</span></span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a><span class="co">#&gt; 59996 5.19393 3.55909 581.9377 -18.16673 2.32261 0.18215 99.95</span></span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a><span class="co">#&gt; 59997 5.79930 3.52315 583.0451 -18.22893 2.25254 0.20829 99.96</span></span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a><span class="co">#&gt; 59998 5.21722 3.62651 583.0568 -18.22893 2.25254 0.24896 99.97</span></span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a><span class="co">#&gt; 59999 5.71400 3.59307 583.0215 -18.22893 2.25254 0.15135 99.98</span></span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a><span class="co">#&gt; 60000 5.29085 3.84675 582.9788 -18.09906 2.38589 0.19261 99.99</span></span>
<span id="cb2-78"><a href="#cb2-78" tabindex="-1"></a><span class="co">#&gt;                file_name      CoP_X     CoP_Y Period_Name</span></span>
<span id="cb2-79"><a href="#cb2-79" tabindex="-1"></a><span class="co">#&gt; 59995 Postural_DataF.txt -0.3991161 -3.121761  Pleasant_t</span></span>
<span id="cb2-80"><a href="#cb2-80" tabindex="-1"></a><span class="co">#&gt; 59996 Postural_DataF.txt -0.3991166 -3.121765  Pleasant_t</span></span>
<span id="cb2-81"><a href="#cb2-81" tabindex="-1"></a><span class="co">#&gt; 59997 Postural_DataF.txt -0.3863406 -3.126504  Pleasant_t</span></span>
<span id="cb2-82"><a href="#cb2-82" tabindex="-1"></a><span class="co">#&gt; 59998 Postural_DataF.txt -0.3863329 -3.126442  Pleasant_t</span></span>
<span id="cb2-83"><a href="#cb2-83" tabindex="-1"></a><span class="co">#&gt; 59999 Postural_DataF.txt -0.3863562 -3.126631  Pleasant_t</span></span>
<span id="cb2-84"><a href="#cb2-84" tabindex="-1"></a><span class="co">#&gt; 60000 Postural_DataF.txt -0.4092584 -3.104583  Pleasant_t</span></span></code></pre></div>
<p>Time_StampeR.R</p>
<p>Once this operation has been made on the raw data, it is possible to
easily filter only the data points we are interested in by using
<code>subset</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>Crit_Data <span class="ot">&lt;-</span> <span class="fu">subset</span>(Annotated_Data, Annotated_Data<span class="sc">$</span>Period_Name<span class="sc">==</span><span class="st">&quot;Unpleasant_t&quot;</span> <span class="sc">|</span> Annotated_Data<span class="sc">$</span>Period_Name <span class="sc">==</span> <span class="st">&quot;Pleasant_t&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">head</span>(Crit_Data)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt;           Fx      Fy       Fz      Mx      My       Mz  Time          file_name</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt; 2501 9.24985 5.39103 789.6914 6.54076 0.98998 -0.20008 25.00 Postural_DataA.txt</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt; 2502 9.38955 5.35951 788.9833 6.53806 0.99312 -0.01288 25.01 Postural_DataA.txt</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; 2503 9.30209 5.32928 788.6407 6.34121 0.92867 -0.04189 25.02 Postural_DataA.txt</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt; 2504 9.41671 5.10901 788.9616 6.27693 0.99442 -0.16173 25.03 Postural_DataA.txt</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt; 2505 9.42801 4.81228 788.9768 6.40681 1.12777 -0.04122 25.04 Postural_DataA.txt</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; 2506 9.62499 4.70365 788.2545 6.27485 1.13023 -0.16094 25.05 Postural_DataA.txt</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt;           CoP_X     CoP_Y  Period_Name</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; 2501 -0.1253629 0.8282679 Unpleasant_t</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt; 2502 -0.1258734 0.8286690 Unpleasant_t</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; 2503 -0.1177558 0.8040683 Unpleasant_t</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; 2504 -0.1260416 0.7955939 Unpleasant_t</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; 2505 -0.1429408 0.8120404 Unpleasant_t</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt; 2506 -0.1433839 0.7960436 Unpleasant_t</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="fu">tail</span>(Crit_Data)</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt;            Fx      Fy       Fz        Mx      My      Mz  Time</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt; 59995 5.65743 3.71183 581.9384 -18.16673 2.32261 0.33257 99.94</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="co">#&gt; 59996 5.19393 3.55909 581.9377 -18.16673 2.32261 0.18215 99.95</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="co">#&gt; 59997 5.79930 3.52315 583.0451 -18.22893 2.25254 0.20829 99.96</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="co">#&gt; 59998 5.21722 3.62651 583.0568 -18.22893 2.25254 0.24896 99.97</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="co">#&gt; 59999 5.71400 3.59307 583.0215 -18.22893 2.25254 0.15135 99.98</span></span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="co">#&gt; 60000 5.29085 3.84675 582.9788 -18.09906 2.38589 0.19261 99.99</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a><span class="co">#&gt;                file_name      CoP_X     CoP_Y Period_Name</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="co">#&gt; 59995 Postural_DataF.txt -0.3991161 -3.121761  Pleasant_t</span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="co">#&gt; 59996 Postural_DataF.txt -0.3991166 -3.121765  Pleasant_t</span></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="co">#&gt; 59997 Postural_DataF.txt -0.3863406 -3.126504  Pleasant_t</span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="co">#&gt; 59998 Postural_DataF.txt -0.3863329 -3.126442  Pleasant_t</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="co">#&gt; 59999 Postural_DataF.txt -0.3863562 -3.126631  Pleasant_t</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a><span class="co">#&gt; 60000 Postural_DataF.txt -0.4092584 -3.104583  Pleasant_t</span></span></code></pre></div>
<p>Time_StampeR.R</p>
</div>
<div id="further-readings" class="section level2">
<h2>Further readings</h2>
<p>See the <a href="https://jeanmoneger.com/book/managing-1">Managing
Section of the BalanceMate Guide book</a></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
